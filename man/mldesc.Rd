% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mldesc.R
\name{mldesc}
\alias{mldesc}
\title{Compute Multilevel Descriptive Statistics}
\usage{
mldesc(
  data,
  group,
  vars,
  weight = TRUE,
  flip = FALSE,
  remove_leading_zero = TRUE
)
}
\arguments{
\item{data}{A data frame containing the variables to analyze.}

\item{group}{A character string specifying the name of the grouping variable.}

\item{vars}{A character vector specifying the names of variables to describe.}

\item{weight}{Logical. If TRUE (default), statistics are weighted by group size so that
each observation contributes equally. If FALSE, statistics are unweighted by group
size (each group contributes equally).}

\item{flip}{Logical. If TRUE, between-group correlations are shown in the upper
triangle and within-group correlations in the lower triangle. Default is FALSE.}

\item{remove_leading_zero}{Logical. If TRUE (default), removes leading zeros from
decimal values in correlation and ICC columns according to APA standards.}
}
\value{
A tibble of class \code{mlstats_desc_tibble} containing:
\itemize{
\item \code{variable}: Variable name
\item \code{n_obs}: Number of observations
\item \code{m}: Mean
\item \code{sd}: Standard deviation
\item \code{range}: Range from minimum to maximum
\item One column per variable in \code{vars} containing correlations
\item \code{icc}: Intraclass correlation coefficient
}

The tibble can be printed in gt format using \code{print(result, "gt")}.
}
\description{
This function creates a comprehensive descriptive statistics table for multilevel data,
including basic descriptives, within-group and between-group correlations, and
intraclass correlation coefficients (ICCs).
}
\details{
The function combines three types of information:

\strong{Descriptive Statistics:} Basic summary statistics for each variable.
When \code{weight = TRUE} (default), statistics are calculated across all observations.
When \code{weight = FALSE}, the mean is the mean of group means (unweighted), and
the SD is the standard deviation of group means, representing between-group variability.

\strong{Correlations:} Within-group correlations (upper triangle) and between-group
correlations (lower triangle) computed using \code{\link{within_between_correlations}}.
The \code{weight} parameter controls whether between-group correlations are weighted
by group size (default) or unweighted.

\strong{ICC:} The intraclass correlation coefficient computed from an unconditional
(intercept-only) multilevel model using \code{lme4::lmer}. The ICC represents
the proportion of variance in each variable that exists between groups.
}
\examples{
\dontrun{
# Create sample data
data <- data.frame(
  school = rep(1:5, each = 20),
  math_score = rnorm(100, 50, 10),
  reading_score = rnorm(100, 50, 10),
  motivation = rnorm(100, 5, 2)
)

# Compute multilevel descriptives with weighted between-group correlations
result <- mldesc(
  data = data,
  group = "school",
  vars = c("math_score", "reading_score", "motivation")
)

# Print as default tibble
print(result)

# Print as formatted gt table
print(result, "gt")

# Print as gt table with custom title and notes
print(result, "gt",
      table_title = "Custom Table Title",
      correlation_note = "Custom correlation note",
      note_text = "Data collected from 5 schools.")

# Compute with unweighted between-group correlations
result_unweighted <- mldesc(
  data = data,
  group = "school",
  vars = c("math_score", "reading_score", "motivation"),
  weight = FALSE
)
}


}
\seealso{
\code{\link{within_between_correlations}}
}
