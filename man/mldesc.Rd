% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mldesc.R
\name{mldesc}
\alias{mldesc}
\title{Compute Multilevel Descriptive Statistics}
\usage{
mldesc(
  data,
  group,
  vars,
  weight = TRUE,
  remove_leading_zero = TRUE,
  print_gt = FALSE,
  table_title = NULL,
  correlation_note = NULL,
  note_text = NULL
)
}
\arguments{
\item{data}{A data frame containing the variables to analyze.}

\item{group}{A character string specifying the name of the grouping variable.}

\item{vars}{A character vector specifying the names of variables to describe.}

\item{weight}{Logical. If TRUE (default), statistics are weighted by group size so that
each observation contributes equally. If FALSE, statistics are unweighted by group
size (each group contributes equally).}

\item{remove_leading_zero}{Logical. If TRUE (default), removes leading zeros from
decimal values in correlation and ICC columns according to APA standards.}

\item{print_gt}{Logical. If TRUE, returns a formatted gt table instead of a tibble.
Default is FALSE.}

\item{table_title}{Character string. Custom title for the gt table when print_gt = TRUE.
Default describes descriptive statistics with within-group and between-group correlations.}

\item{correlation_note}{Character string. Custom note text for correlation interpretation
when print_gt = TRUE. Default describes within-group and between-group correlations.}

\item{note_text}{Character string. Custom note text to append to the table footer
when print_gt = TRUE.}
}
\value{
A tibble containing descriptive statistics (default), or a gt table object
if print_gt = TRUE. The tibble contains:
\itemize{
\item \code{variable}: Variable name
\item \code{n_obs}: Number of observations
\item \code{m}: Mean
\item \code{sd}: Standard deviation
\item \code{range}: Range from minimum to maximum
\item One column per variable in \code{vars} containing correlations
\item \code{icc}: Intraclass correlation coefficient
}
}
\description{
This function creates a comprehensive descriptive statistics table for multilevel data,
including basic descriptives, within-group and between-group correlations, and
intraclass correlation coefficients (ICCs).
}
\details{
The function combines three types of information:

\strong{Descriptive Statistics:} Basic summary statistics for each variable.
When \code{weight = TRUE} (default), statistics are calculated across all observations.
When \code{weight = FALSE}, the mean is the mean of group means (unweighted), and
the SD is the standard deviation of group means, representing between-group variability.

\strong{Correlations:} Within-group correlations (upper triangle) and between-group
correlations (lower triangle) computed using \code{\link{within_between_correlations}}.
The \code{weight} parameter controls whether between-group correlations are weighted
by group size (default) or unweighted.

\strong{ICC:} The intraclass correlation coefficient computed from an unconditional
(intercept-only) multilevel model using \code{lme4::lmer}. The ICC represents
the proportion of variance in each variable that exists between groups.
}
\examples{
\dontrun{
# Create sample data
data <- data.frame(
  school = rep(1:5, each = 20),
  math_score = rnorm(100, 50, 10),
  reading_score = rnorm(100, 50, 10),
  motivation = rnorm(100, 5, 2)
)

# Compute multilevel descriptives with weighted between-group correlations
result <- mldesc(
  data = data,
  group = "school",
  vars = c("math_score", "reading_score", "motivation")
)

# Compute with unweighted between-group correlations
result_unweighted <- mldesc(
  data = data,
  group = "school",
  vars = c("math_score", "reading_score", "motivation"),
  weight = FALSE
)

# Return as formatted gt table with custom title
gt_result <- mldesc(
  data = data,
  group = "school",
  vars = c("math_score", "reading_score", "motivation"),
  print_gt = TRUE,
  table_title = "Custom Table Title",
  correlation_note = "Custom correlation note",
  note_text = "Data collected from 5 schools."
)
}


}
\seealso{
\code{\link{within_between_correlations}}
}
